---
wave: 3
depends_on:
  - "06-03"
  - "06-04"
files_modified:
  - .env.example
autonomous: true
---

# Plan 06-05: Update Environment Documentation

## Objective

Update .env.example to remove references to legacy providers and reflect the AWS-only configuration. This ensures new developers setting up the project configure AWS credentials correctly.

## Requirements Addressed

- INFRA-04: Old provider environment variables removed (documentation)
- Developer onboarding clarity

## Tasks

<task id="1" title="Update .env.example">
Update `/workspace/.env.example` to remove legacy provider sections and clarify AWS requirements:

```bash
# Server
PORT=3100
BASE_URL=https://your-hostname:3100

# Twilio (Voice/SMS Gateway)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# AWS (All AI services: Bedrock LLM, Transcribe STT, Polly TTS)
# Required: IAM user with permissions for bedrock:*, transcribe:*, polly:*
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-2

# Database
DATABASE_PATH=./data/barberbot.db

# ============================================================
# LEGACY PROVIDERS (NO LONGER SUPPORTED)
# ============================================================
# The following providers have been replaced by AWS services:
#
# - OPENAI_API_KEY: Replaced by AWS Bedrock (Claude)
# - DEEPGRAM_API_KEY: Replaced by AWS Transcribe
# - ELEVENLABS_API_KEY: Replaced by AWS Polly
#
# If you set any of these variables, the application will
# exit with an error on startup. Remove them from your .env file.
# ============================================================
```
</task>

<task id="2" title="Verify .env.example is valid" depends_on="1">
Verify the .env.example file is syntactically correct and contains all required variables:

```bash
# Check it's valid shell-style config
source .env.example 2>/dev/null || echo "Syntax error in .env.example"

# Verify required AWS vars are present
grep -q "AWS_ACCESS_KEY_ID" .env.example && echo "AWS_ACCESS_KEY_ID present"
grep -q "AWS_SECRET_ACCESS_KEY" .env.example && echo "AWS_SECRET_ACCESS_KEY present"
grep -q "AWS_REGION" .env.example && echo "AWS_REGION present"

# Verify legacy vars are NOT present as active config
grep -E "^OPENAI_API_KEY=" .env.example && echo "ERROR: OPENAI_API_KEY should not be set"
grep -E "^DEEPGRAM_API_KEY=" .env.example && echo "ERROR: DEEPGRAM_API_KEY should not be set"
grep -E "^ELEVENLABS_API_KEY=" .env.example && echo "ERROR: ELEVENLABS_API_KEY should not be set"
```

Expected: AWS vars present, legacy vars not present as active config (only in comments).
</task>

## Verification

- [ ] .env.example updated with AWS-only configuration
- [ ] Legacy provider variables removed from active config
- [ ] Comment block explains legacy provider removal
- [ ] All required AWS variables documented
- [ ] File syntax is valid

## must_haves

- [ ] AWS credentials section with ACCESS_KEY_ID, SECRET_ACCESS_KEY, REGION
- [ ] Legacy provider notice in comments
- [ ] No active configuration for OPENAI, DEEPGRAM, or ELEVENLABS
